---
title: "Birds Over Time"
format:
  closeread-html:
    theme: lux
    cr-style:
      narrative-background-color-sidebar: "#f8f9fa"
    cr-section:
      layout: "sidebar-left"
execute:
  echo: false
  warning: false
  message: false
jupyter: python3
---

```{python}
# Hidden setup block: load libraries and data
import pandas as pd
import matplotlib.pyplot as plt
import plotly.express as px
from bokeh.plotting import figure, show, output_notebook
output_notebook()

# Load dataset (adjust filename/path as needed)
df = pd.read_csv("dummy-bird-data.csv")
```

:::{.cr-section}

:::{focus-on="cr-overall-plot"}
## Threathened and rare birds in Denmark

By Rakul Maria H. Tórgarð

Data from **BLAH**

:::

I've always wanted to be a bird, she said <br>
So I could fly away from this awful place and choose my home <br>
Regardless of what I come from

:::{#cr-overall-plot .scale-to-fill}

```{python}
# Total sightings per year (matplotlib)
df_grouped = df.groupby("year")["count"].sum()
plt.figure(figsize=(10, 4))
plt.plot(df_grouped.index, df_grouped.values, color="steelblue", linewidth=2)
plt.title("Total Sightings of Threatened Birds in Denmark (1998–2024)")
plt.xlabel("Year")
plt.ylabel("Sightings")
plt.grid(True)
plt.tight_layout()
plt.show()
```

:::

:::{focus-on="cr-eagle-plot"}
## Another section

We'll try something else now.

:::

:::{#cr-eagle-plot}

```{python}
# Interactive Plotly plot for White-Tailed Eagle
eagle = df[df["species"] == "White-Tailed Eagle"]
fig = px.line(eagle, x="year", y="count", title="White-Tailed Eagle Sightings Over Time", 
              labels={"count": "Sightings", "year": "Year"})
fig.show()
```

:::

:::
<!-- 
## Step 3: The White-Tailed Eagle – A Comeback

The white-tailed eagle has seen a remarkable resurgence in recent decades, thanks to habitat protection and conservation measures.

As you reach this point, the eagle trend will be shown. @cr-eagle-plot
:::

:::{#cr-eagle-plot}
```{python}
# Interactive Plotly plot for White-Tailed Eagle
eagle = df[df["species"] == "White-Tailed Eagle"]
fig = px.line(eagle, x="year", y="count", title="White-Tailed Eagle Sightings Over Time", 
              labels={"count": "Sightings", "year": "Year"})
fig.show()
```
:::

:::{.eagle-wrap}
## Step 4: Eagle Wrap-Up

The positive trend seen in the white-tailed eagle's data is a clear example of how focused conservation efforts can produce tangible results. Increased awareness, habitat preservation, and reduced human disturbance have been key factors in its recovery.
:::

:::{.owl-story}
## Step 5: The Boreal Owl – A Decline

In contrast, the boreal owl shows signs of a declining population. This decline could reflect habitat loss, climate pressures, or reduced breeding success.

Scroll here to view the boreal owl's population trend. @cr-owl-plot
:::

:::{#cr-owl-plot}
```{python}
# Bokeh plot for Boreal Owl
owl = df[df["species"] == "Boreal Owl"]
p = figure(title="Boreal Owl Sightings Over Time", x_axis_label='Year', y_axis_label='Sightings',
           width=700, height=300)
p.line(owl["year"], owl["count"], line_width=2, color="darkred")
show(p)
```
:::

:::{.owl-wrap}
## Step 6: Owl Wrap-Up

Unlike the eagle, the boreal owl is in decline. Continued monitoring and further research are needed to understand and mitigate the drivers of this negative trend.
:::

:::{.conclusion}
## Step 7: Final Reflections

The contrasting stories of these two species underscore the dynamic nature of biodiversity and conservation. Where action is taken, recovery is possible. Where it is absent, losses can go unnoticed until it is too late.
:::

:::{.credits}
## Step 8: Acknowledgments

- **Data Source**: Birdwatchers Association of Denmark (fictional)
- **Tools Used**: Python, Pandas, Matplotlib, Plotly, Bokeh, Quarto, Closeread
- **Course**: Social Data Visualizations (Spring 2025)
- Special thanks to our instructors and all peer reviewers.
:::

::: -->
